{"meta":{"title":"Takeko","subtitle":null,"description":null,"author":"Takeko","url":"http://yoursite.com"},"pages":[],"posts":[{"title":"孤岛","slug":"孤岛","date":"2018-08-25T11:31:45.000Z","updated":"2018-09-01T14:31:06.317Z","comments":true,"path":"2018/08/25/孤岛/","link":"","permalink":"http://yoursite.com/2018/08/25/孤岛/","excerpt":"","text":"新入滴胶坑，参考别人的视频尝试了一次造景","categories":[{"name":"Life","slug":"Life","permalink":"http://yoursite.com/categories/Life/"}],"tags":[{"name":"手作","slug":"手作","permalink":"http://yoursite.com/tags/手作/"}]},{"title":"国家企业技术中心分数计算器","slug":"国家企业技术中心分数计算器","date":"2018-08-22T12:13:31.000Z","updated":"2018-09-01T14:30:59.670Z","comments":true,"path":"2018/08/22/国家企业技术中心分数计算器/","link":"","permalink":"http://yoursite.com/2018/08/22/国家企业技术中心分数计算器/","excerpt":"","text":"最近由于工作需要在申报国家企业技术中心，其中分数计算过程十分繁琐，手动计算容易出错，应同事要求写了一段代码计算分数，当做python的一个小练习。 计算规则评价方法见发改委通知具体计算规则如下：1．指标数值大于或等于满分要求时，指标得分为满分，即指标得分等于上表中的权重；2．指标数值等于基本要求时，指标得分为权重的60%；3．指标数值为0 时，指标得分为0；4．指标数值处于0 和基本要求之间时，指标得分按线性插值的方法计算，计算公式为：指标得分 = （指标数值/基本要求）* 权重的60% 指标数值处于基本要求和满分要求之间时，指标得分按线性插值的方法计算，计算公式为：指标得分 = （指标数值-基本要求）/（满分要求-基本要求）* 权重的40% + 权重的60% 其中，指标名称、权重、基本要求和满分要求如下： 代码如下1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677#coding:utf-8import pandas as pddef compute_score(x, weight, base, fullscore): x = float(x) if x == 0: score = 0 elif x&gt;0 and x&lt;base: score = x/base*weight*0.6 elif x == base: score = weight * 0.6 elif x&gt;base and x&lt;fullscore: score = (x - base)/(fullscore - base)*weight*0.4 + weight*0.6 elif x &gt;= fullscore: score = weight score = round(score,1) return score def isnub(x): try: nb = float(x) #将字符串转换成数字成功则返回True return True except ValueError as e: return False #如果出现异常则返回FalseX = []Scores = []Final_score = [0]*18Titles = [&quot;研发人员人均研发经费支出&quot;,&quot;研发经费支出占主营业务收入的比重&quot;,&quot;研发人员占企业职工总数的比重&quot;,&quot;技术中心拥有的高级专家和博士人数&quot;,&quot;来技术中心从事研发工作的外部专家人数&quot;,&quot;企业拥有的全部有效发明专利数&quot;,&quot;企业全部研发项目数&quot;,&quot;基础研究和应用研究项目数占全部研发项目数的比重&quot;,&quot;企业技术开发仪器设备原值&quot;,&quot;国家级研发平台数&quot;,&quot;省级研发平台数&quot;,&quot;通过国家（国际组织）认证的实验室和检测机构数&quot;,&quot;当年被受理的专利申请数&quot;,&quot;当年被受理的发明专利申请数&quot;,&quot;最近三年主持和参加制定的国际、国家和行业标准数&quot;,&quot;新产品销售收入占主营业务收入的比重&quot;,&quot;新产品销售利润占利润总额的比重&quot;,&quot;利润率&quot;]Weight = [8,12,7,4,4,5,4,4,4,3,2,3,5,6,4,10,10,5]Base = [5,0,3,5,20,5,10,3,3000,1,1,1,10,5,1,20,15,2]Fullscore = [80,0,25,25,100,80,100,10,30000,2,3,2,50,30,6,40,30,12]for title in Titles: #由于第二个指标“研发经费支出占主营业务收入的比重”需要先进行一步判断，所以单独进行计算 index = Titles.index(title) if index == 1: Revenue = input(&quot;请输入主营业务收入(亿元)：&quot;) while isnub(Revenue) == False: Revenue = input(&quot;请输入数字：&quot;) Revenue = float(Revenue) x = input(&quot;请输入研发经费支出占主营业务收入的比重：&quot;) while isnub(x) == False: x = input(&quot;请输入数字：&quot;) if Revenue&gt;=500: score = compute_score(x, 12, 1, 5) if Revenue&lt;500 and Revenue&gt;=100: score = compute_score(x, 12, 1.5, 7) if Revenue&lt;100 and Revenue&gt;=10: score = compute_score(x, 12, 2, 9) if Revenue&lt;10: score = compute_score(x, 12, 3, 12) X.append(x) Scores.append(score) print(&quot;研发经费支出占主营业务收入的比重项得分 %.1f&quot; % score) else: title_input = &quot;请输入&quot; + title + &quot;:&quot; x = input(title_input) while isnub(x) == False: x = input(&quot;请输入数字：&quot;) score = compute_score(x, Weight[index], Base[index], Fullscore[index]) X.append(x) Scores.append(score) title_output = title + &quot;项得分：%.1f&quot; print(title_output % score) final_score = 0for score in Scores: final_score = final_score + scoreFinal_score[0] = final_scoreprint(&quot;总分%.1f&quot; % final_score)#数据保存到本地 columns = [&apos;Titles&apos;,&apos;Weight&apos;,&apos;Base requirements&apos;,&apos;Fullscore requirements&apos;,&apos;Value&apos;,&apos;Score&apos;,&apos;Final score&apos;]dataframe = pd.DataFrame(&#123;&apos;Titles&apos;:Titles,&apos;Weight&apos;:Weight,&apos;Base requirements&apos;:Base,&apos;Fullscore requirements&apos;:Fullscore,&apos;Value&apos;:X,&apos;Score&apos;:Scores,&apos;Final score&apos;:Final_score&#125;)file_name = &quot;Data.csv&quot;dataframe.to_csv(file_name,index=False,sep=&apos;,&apos;)columns = [&apos;Titles&apos;,&apos;Weight&apos;,&apos;Base requirements&apos;,&apos;Fullscore requirements&apos;,&apos;Value&apos;,&apos;Score&apos;,&apos;Final score&apos;]dataframe.to_csv(file_name,index=False,columns=columns)print (&apos;Finish saving csv file&apos;)代码下载链接","categories":[{"name":"Technology","slug":"Technology","permalink":"http://yoursite.com/categories/Technology/"}],"tags":[{"name":"projects","slug":"projects","permalink":"http://yoursite.com/tags/projects/"},{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"}]},{"title":"Hello World","slug":"hello-world","date":"2018-06-25T12:28:09.589Z","updated":"2018-08-27T12:53:17.741Z","comments":true,"path":"2018/06/25/hello-world/","link":"","permalink":"http://yoursite.com/2018/06/25/hello-world/","excerpt":"","text":"This is my very first post.This blog website is built based on Hexo! Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment DocumentationGitHub","categories":[{"name":"Technology","slug":"Technology","permalink":"http://yoursite.com/categories/Technology/"}],"tags":[]}]}